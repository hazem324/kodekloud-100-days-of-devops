Here is a **clean, professional README** that **matches exactly your configuration and result**, and it **includes the two screenshots you provided** ✅
You can use this as **final submission / documentation**.

---

# Configure Nginx + PHP-FPM (PHP 8.2) Using Unix Socket

## Overview

The Nautilus application development team planned to deploy a PHP-based application on **Nautilus Infrastructure (Stratos DC)**.
This document explains the **exact configuration and steps** performed on **App Server 1 (`stapp01`)** to deploy the application using **Nginx and PHP-FPM 8.2 with a Unix socket**.

The setup was tested successfully using `curl`.

---

## Requirements

* Install **nginx** on **app server 1**
* Configure nginx to listen on **port 8092**
* Set document root to `/var/www/html`
* Install **PHP-FPM version 8.2**
* Configure PHP-FPM to use Unix socket

  ```
  /var/run/php-fpm/default.sock
  ```
* Configure nginx and PHP-FPM to work together
* Test using:

  ```bash
  curl http://stapp01:8092/index.php
  ```

> ⚠️ The files `index.php` and `info.php` already exist in `/var/www/html` and were **not modified**.

---

## Configuration Details

### Nginx Server Configuration

The following configuration was added to `/etc/nginx/nginx.conf`.

![Image](https://www.tecmint.com/wp-content/uploads/2020/06/sample-php-fpm-pool-config-for-listening-on-unix-socket.png)

![Image](https://itknowledgeexchange.techtarget.com/coffee-talk/files/2022/05/php-nginx-php-ftm-config-example.gif)

```nginx
server {
    listen 8092;
    server_name _;

    root /var/www/html;
    index index.php index.html;

    include /etc/nginx/default.d/*.conf;

    location ~ \.php$ {
        include fastcgi_params;
        fastcgi_pass unix:/var/run/php-fpm/default.sock;
        fastcgi_index index.php;
        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
    }

    error_page 404 /404.html;
    location = /404.html {
    }
}
```

### Why these changes were made

| Change            | Reason                              |
| ----------------- | ----------------------------------- |
| Port `8092`       | Required by the task                |
| `/var/www/html`   | Location of PHP application files   |
| `index.php` added | Allows PHP index execution          |
| `fastcgi_pass`    | Sends PHP files to PHP-FPM          |
| Unix socket       | Faster & secure local communication |

---

## PHP-FPM Configuration

PHP 8.2 was installed using DNF modules:

```bash
sudo dnf module install php:8.2 -y
```

The PHP-FPM pool configuration file `/etc/php-fpm.d/www.conf` was updated:

```ini
listen = /var/run/php-fpm/default.sock
listen.owner = nginx
listen.group = nginx
listen.mode = 0660

user = nginx
group = nginx
```

The socket directory was created manually:

```bash
sudo mkdir -p /var/run/php-fpm
```

---

## Services Management

Both services were enabled and started:

```bash
sudo systemctl enable --now nginx
sudo systemctl enable --now php-fpm
```

---

## Testing & Verification

The configuration was tested from the App Server:

![Image](https://www.simplified.guide/_media/curl/output-save/curl-output.png?tok=0f91cf\&w=700)

![Image](https://kodekloud.com/community/uploads/db1265/85026777796a86f3ea52877fad23ca94c9e1d6b5)

```bash
curl http://stapp01:8092/index.php
```

### Output:

```text
Welcome to xFusionCorp Industries!
```

✅ This confirms:

* nginx is listening on port 8092
* PHP-FPM is working
* Unix socket communication is successful

---

## Good to Know

### PHP-FPM (FastCGI Process Manager)

* Handles PHP execution separately from nginx
* Improves performance and stability
* Allows better resource management

### Unix Socket vs TCP

| Unix Socket | TCP Socket      |
| ----------- | --------------- |
| Faster      | Slightly slower |
| Local only  | Network capable |
| More secure | Needs firewall  |

### Nginx + PHP-FPM Benefits

* High performance
* Low memory usage
* Better fault isolation
* Industry-standard deployment model

