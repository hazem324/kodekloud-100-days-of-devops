# Create a Docker Image From a Container (Day 39)

One of the Nautilus developers was testing new changes inside a running container and wanted to keep a backup of those changes. The DevOps team was requested to create a new Docker image from the existing container.

## Task Details

- **Application Server**: Application Server 1  
- **Running Container**: `ubuntu_latest`  
- **New Image to Create**: `apps:datacenter`

## Steps 

To create a Docker image from a running container, the `docker commit` command is used.

### Command Syntax

```sh
docker commit <container_name> <repository>:<tag>
````

### Actual Command Used

```sh
docker commit ubuntu_latest apps:datacenter
```

### Verification

After committing the container, the image was verified using:

```sh
docker images
```

Output confirmed that the image was created successfully:

* Repository: `apps`
* Tag: `datacenter`
* Image Size: ~136 MB

## Good to Know

### Docker Commit

* **Purpose**: Creates a new image from the current state of a container
* **Snapshot**: Captures all filesystem changes made inside the container
* **Layer-Based**: Adds a new image layer on top of the base image
* **Persistence**: Ensures container changes are not lost

### When to Use `docker commit`

* **Quick Backups**: Save work done inside a container
* **Testing & Debugging**: Preserve a working or failing state
* **Manual Configuration**: Capture changes made interactively
* **Short-Term Use**: Useful during experimentation

### Docker Commit vs Dockerfile

| Docker Commit            | Dockerfile                  |
| ------------------------ | --------------------------- |
| Fast and simple          | Structured and reproducible |
| Manual process           | Automated builds            |
| Not ideal for production | Best for production         |
| Harder to track changes  | Version controlled          |

### Best Practices

* Use `docker commit` mainly for development or debugging
* Clean temporary files before committing
* Add a meaningful commit message when possible
* Convert successful commits into a Dockerfile for production use